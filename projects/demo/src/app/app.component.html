<ng-bond-world>
  <div bondcontainer="container1" class="drag-container">
    <div
      bondproperty="property1"
      style="top: 30px"
      class="drag-prop drag-child"
    ></div>
    <div
      bondproperty="property2"
      style="top: 60px"
      class="drag-prop drag-child"
    ></div>
    <div bondproperty="property3" class="drag-prop drag-child"></div>
  </div>

  <div bondcontainer="container2" class="drag-container">
    <div
      bondproperty="property4"
      style="top: 30px; right: 0"
      class="drag-prop drag-child"
    ></div>
    <div
      bondproperty="property5"
      style="top: 60px; right: 0"
      class="drag-prop drag-child"
    ></div>
    <div
      bondproperty="property6"
      style="right: 0"
      class="drag-prop drag-child"
    ></div>

    <div
      bondcontainer="inner-container"
      class="drag-container"
      style="width: 100px; height: 100px"
    >
      <div
        bondproperty="innerprop"
        style="top: 50px; right: 50px"
        class="drag-prop drag-child"
      ></div>
    </div>
  </div>

  <div
    bondcontainer="container3"
    class="drag-container"
  >
    <div
      bondproperty="property7"
      style="top: 30px"
      class="drag-prop drag-child"
    ></div>
    <div
      bondproperty="property8"
      style="top: 60px"
      class="drag-prop drag-child"
    ></div>
    <div
      bondproperty="property9"
      class="drag-prop drag-child"
    ></div>
  </div>

  <app-property-container></app-property-container>
</ng-bond-world>

<div style="position: absolute; right: 0; top: 0">
  <h3>Targets</h3>
  @for (drag of ngBondService.dragElements(); track $index) {
    <div>
      ID: {{ drag.id() }} Global: {{ drag.gX() }}x{{ drag.gY() }} Local:
      {{ drag.x() }}x{{ drag.y() }}
    </div>
  }

  <h3>Links</h3>
  @for (link of ngBondService.links(); track $index) {
    <div>
      {{ link().inputId }}: {{ link().x1 }}x{{ link().y1 }}
      {{ link().outputId }}: {{ link().x2 }}x{{ link().y2 }}
      <button (click)="ngBondService.removeLink(link)">Remove</button>
    </div>
  }

  <br />
  <button (click)="ngBondService.createLink('property1', 'property4')">
    Create Link
  </button>
  <br />
  <button
    (click)="ngBondService.createLink('property2', 'property5', '#00ff00')"
  >
    Create Link
  </button>
  <br />
  <button (click)="ngBondService.createLink('property6', 'property8')">
    Create Link
  </button>
</div>
