<svg
  #svg_canvas
  style="position: absolute; top: 0; left: 0"
  style="background: #111"
  width="1000"
  height="1000"
  xmlns="http://www.w3.org/2000/svg"
>
  <defs>
    <pattern id=":S4:" patternUnits="userSpaceOnUse" width="20" height="20">
      <circle r="1" cx="10" cy="10" fill="#313131"></circle>
    </pattern>
  </defs>

  <rect id="canvas_bg" width="100%" height="100%" fill="url(#:S4:)"></rect>
</svg>

<svg
  style="position: absolute; left: 0; top: 0"
  viewBox="0 0 1000 1000"
  width="1000"
  height="1000"
>
  <defs>
    <marker
      id="arrowStart"
      markerWidth="10"
      markerHeight="10"
      refX="-3"
      refY="3"
      orient="auto"
      markerUnits="strokeWidth"
    >
      <path d="M0,3 L9,6 L9,0 z" fill="rgba(200,200,200,0.8)" />
    </marker>
  </defs>
  <defs>
    <marker
      id="arrowEnd"
      markerWidth="10"
      markerHeight="10"
      refX="9"
      refY="3"
      orient="auto"
      markerUnits="strokeWidth"
    >
      <path d="M0,0 L9,3 L0,6 L5,3 z" fill="rgba(83, 244, 66,1)" />
    </marker>
  </defs>
  @for (link of dragService.links(); track $index) {
    <path
      class="draw"
      [attr.stroke]="link().stroke"
      stroke-width="1"
      [attr.d]="link().path2"
      fill="none"
      stroke-dasharray="10"
      marker-start="url(#arrowStart)"
      marker-end="url(#arrowEnd)"
    />
  }
</svg>

<div style="position: absolute; top: 0; left: 0">
  <ng-content></ng-content>
</div>
