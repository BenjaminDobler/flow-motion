

@if(!subMenuData()) {
    <ng-container *ngTemplateOutlet="subMenuTemplate"></ng-container>
}

<ng-template #subMenuTemplate>
  <div class="example-menu" cdkMenu (select)="closed($event)">
    @let menuData = subMenuData() || data;
    @for (menuItem of menuData; track $index) {
      @if (menuItem.items && menuItem.items.length > 0) {
        <context-menu-dialog #menuComponent [subMenuData]="menuItem.items"></context-menu-dialog>
        <button #item="cdkMenuTriggerFor" class="example-menu-item" (mouseover)="hover(item)" cdkMenuItem [cdkMenuTriggerFor]="menuComponent.subMenuTemplate">{{ menuItem.label }}</button>
      } @else {
        <button (mouseover)="hover()" (click)="clicked(menuItem)" class="example-menu-item" cdkMenuItem>{{ menuItem.label }}</button>
      }
    }
  </div>
</ng-template>
